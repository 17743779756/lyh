<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title>咕嘟商城</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Le styles -->
    <script type="text/javascript" src="../../res/js/jquery.js"></script>

    <link rel="stylesheet" href="../../res/css/style.css">
    <link rel="stylesheet" href="../../res/css/loader-style.css">
    <link rel="stylesheet" href="../../res/css/bootstrap.css">

    <link href="../../res/js/footable/css/footable.core.css?v=2-0-1" rel="stylesheet" type="text/css">
    <link href="../../res/js/footable/css/footable.standalone.css" rel="stylesheet" type="text/css">
    <link href="../../res/js/footable/css/footable-demos.css" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="../../res/js/dataTable/lib/jquery.dataTables/css/DT_bootstrap.css">
    <link rel="stylesheet" href="../../res/js/dataTable/css/datatables.responsive.css">

    <!-- Fav and touch icons -->
    <link rel="shortcut icon" href="../../res/ico/minus.png">

    <style type="text/css">
        /*======消息列表=====*/
        .titleToggle{ margin-top:10px;}
        .titleToggle .padding-large-right{ padding-right:30px;}
        .titleToggle span a{height: 30px;cursor: pointer;line-height: 30px;color: #656565;display: block;font-weight: 600;float: left; text-decoration:none;}
        .titleToggle span .active{ color:#098cba; border-bottom:solid 2px #098cba;}
        .titleToggle span a:hover{color:#098cba; border-bottom:solid 2px #098cba;}
    </style>
</head>

<body>
<!-- Preloader -->
<div id="preloader">
    <div id="status">&nbsp;</div>
</div>
<!-- TOP NAVBAR -->
<nav role="navigation" class="navbar navbar-static-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" class="navbar-toggle" type="button">
                <span class="entypo-menu"></span>
            </button>
            <div id="logo-mobile" class="visible-xs">
                <h1>咕嘟商城</h1>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>
<!-- /END OF TOP NAVBAR -->
<!-- SIDE MENU -->
<div id="skin-select">

    <div id="logo">
        <h1>咕嘟商城</h1>
    </div>
    <a id="toggle">
        <span class="entypo-menu"></span>
    </a>
    <div class="skin-part">
        <div id="tree-wrap">
            <div class="side-bar">
                <ul class="topnav menu-left-nest">
                    <li>
                        <a class="tooltip-tip ajax-load" title="管理员信息">
                            <i class="icon-document-edit"></i>
                            <span>管理员信息</span>
                        </a>
                        <ul>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="updatePassword.html" title="修改密码">
                                    <i class="entypo-doc-text"></i><span>修改密码</span>
                                </a>
                            </li>
                            <!--<li>-->
                            <!--<a class="tooltip-tip2 ajax-load" href="auto.html" title="权限管理">-->
                            <!--<i class="entypo-newspaper"></i><span>权限管理</span>-->
                            <!--</a>-->
                            <!--</li>-->
                        </ul>
                    </li>
                </ul>
                <ul class="topnav menu-left-nest">
                    <li>
                        <a class="tooltip-tip ajax-load" title="订单管理">
                            <i class="icon-window"></i>
                            <span>订单管理</span>
                        </a>
                        <ul>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="order.html" title="订单列表">
                                    <i class="entypo-doc-text"></i><span>订单列表</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a class="tooltip-tip ajax-load" title="商品管理">
                            <i class="icon-window"></i>
                            <span>商品管理</span>
                        </a>
                        <ul>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="goodsList.html" title="商品列表">
                                    <i class="entypo-doc-text"></i><span>商品列表</span>
                                </a>
                            </li>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="addGoods.html" title="商品上传">
                                    <i class="entypo-newspaper"></i><span>普通商品上传</span>
                                </a>
                            </li>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="addDisGoods.html" title="商品上传">
                                    <i class="entypo-newspaper"></i><span>秒杀商品上传</span>
                                </a>
                            </li>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="addAdvert.html" title="商品上传">
                                    <i class="entypo-newspaper"></i><span>广告/轮播图上传</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a class="tooltip-tip ajax-load" title="类目管理">
                            <i class="icon-window"></i>
                            <span>类目管理</span>
                        </a>
                        <ul>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="cateList.html" title="类目管理">
                                    <i class="entypo-doc-text"></i><span>类目列表</span>
                                </a>
                            </li>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="addCategory.html" title="类目编辑">
                                    <i class="entypo-newspaper"></i><span>类目编辑</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a class="tooltip-tip"  title="消息管理">
                            <i class="icon-window"></i>
                            <span>消息管理</span>
                        </a>
                        <ul>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="newsSortList.html" title="消息列表">
                                    <i class="entypo-doc-text"></i><span>消息类别列表</span>
                                </a>
                            </li>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="newsList.html" title="消息列表">
                                    <i class="entypo-doc-text"></i><span>消息列表</span>
                                </a>
                            </li>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="newsSort.html" title="消息列表">
                                    <i class="entypo-doc-text"></i><span>消息类别添加</span>
                                </a>
                            </li>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="news.html" title="消息列表">
                                    <i class="entypo-doc-text"></i><span>消息添加</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a class="tooltip-tip" href="javascript:;" title="提现管理">
                            <i class="icon-window"></i>
                            <span>提现管理</span>
                        </a>
                        <ul>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="txList.html" title="提现列表">
                                    <i class="entypo-doc-text"></i><span>提现列表</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a class="tooltip-tip" href="javascript:;" title="费率管理">
                            <i class="icon-window"></i>
                            <span>费率管理</span>
                        </a>
                        <ul>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="messageList.html" title="费率管理">
                                    <i class="entypo-doc-text"></i><span>费率管理</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a class="tooltip-tip" title="活动管理">
                            <i class="icon-window"></i>
                            <span>活动管理</span>
                        </a>
                        <ul>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="couponsList.html" title="优惠券列表">
                                    <i class="entypo-doc-text"></i><span>优惠券列表</span>
                                </a>
                            </li>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="CouponsSortList.html" title="优惠券种类列表">
                                    <i class="entypo-doc-text"></i><span>优惠券种类列表</span>
                                </a>
                            </li>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="addCouponsSort.html" title="添加优惠券种类">
                                    <i class="entypo-doc-text"></i><span>添加优惠券种类</span>
                                </a>
                            </li>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="addCoupons.html" title="添加优惠券">
                                    <i class="entypo-doc-text"></i><span>添加优惠券</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a class="tooltip-tip"title="退货/发货">
                            <i class="icon-window"></i>
                            <span>退货/发货</span>
                        </a>
                        <ul>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="salesReturnList.html" title="优惠券种类列表">
                                    <i class="entypo-doc-text"></i><span>退货列表</span>
                                </a>
                            </li>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="expressFind.html" title="添加优惠券种类">
                                    <i class="entypo-doc-text"></i><span>发货添加</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <ul id="menu-showhide" class="topnav menu-left-nest">
                    <li>
                        <a class="tooltip-tip"  title="分销管理">
                            <i class="icon-document"></i>
                            <span>分销管理</span>
                        </a>
                        <ul>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="personnel.html" title="Blog List">
                                    <i class="entypo-doc-text"></i><span>分销用户</span></a>
                            </li>
                            <li>
                                <a class="tooltip-tip2 ajax-load" href="Domestic.html" title="Blog List">
                                    <i class="entypo-doc-text"></i><span>所有用户</span></a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- END OF SIDE MENU -->
<!--  PAPER WRAP -->
<div class="wrap-fluid">
    <div class="container-fluid paper-wrap bevel tlbr" id="dataBind">
        <!-- CONTENT -->
        <!--TITLE -->
        <div class="row">
            <div id="paper-top">
                <div class="col-sm-3">
                    <h2 class="tittle-content-header">
                        <span class="entypo-menu"></span>
                        <span>商品列表</span>
                    </h2>
                </div>
            </div>
        </div>
        <!--/ TITLE -->

        <!-- BREADCRUMB -->
        <div style="margin-top: 20px;margin-left: 30px;" >
            时间查询:&nbsp;&nbsp;<label><input type="text" class="layui-input" id="startTime"/></label>&nbsp;&nbsp;至&nbsp;&nbsp;<label><input type="text" class="layui-input" id="endTime"/></label>&nbsp;&nbsp;&nbsp;
            商品名查询:&nbsp;&nbsp;<label><input type="text" id="title" /></label>&nbsp;&nbsp;&nbsp;
            类别查询:&nbsp;&nbsp;<label>
            <select id="sortId" name="sortId" class="filter-status form-control">
                <option value="">请选择</option>
            </select>
        </label>&nbsp;&nbsp;&nbsp;
            <input type="button" value="查询" style="margin-left: auto" @click="searchGoodsList(0)"/>
        </div>
        <!-- END OF BREADCRUMB -->
        <div class="content-wrap">
            <div class="row">
                <div class="col-sm-12">
                    <div class="nest" id="FootableClose">
                        <div class="title-alt">
                            <div class="titleToggle">
                                <span class="padding-large-right manage-title pull-left allGoods"><a class="active" href="javascript:;" @Click="allGoods()">普通商品</a></span>
                                <span class="padding-large-right manage-title pull-left disGoods"><a class="" href="javascript:;" @Click="disGoods()">折扣/推荐</a></span>
                                <span class="padding-large-right manage-title pull-left recommendGoods"><a class="" href="javascript:;" @Click="recommendGoods()">推荐商品</a></span>
                                <span class="padding-large-right manage-title pull-left bannerList"><a class="" href="javascript:;" @Click="bannerList()">轮播图</a></span>
                            </div>
                        </div>
                        <!-- 数据展示 -->
                        <div class="body-nest" id="Footable">
                            <table class="table-striped footable-res footable metro-blue" >
                                <thead>
                                <tr>
                                    <th>商品名</th>
                                    <th>添加日期</th>
                                    <th>所属分类</th>
                                    <th>展示价格</th>
                                    <th>规格</th>
                                    <th>操作</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr v-if="items.obj!=null" v-for="(item,index) of items.obj" >
                                    <td>{{item.title}}</td>
                                    <td>{{item.ctsStr}}</td>
                                    <td>{{item.sortId}}</td>
                                    <td>{{item.price}}</td>
                                    <td v-if="item.spec!=null&&item.sortId!='首页报单产品'" @click='getSpec(item.id,index)' >
                                        <a>查看规格</a>
                                    </td>
                                    <td v-else>单一规格商品</td>
                                    <td>
                                        <input value="编辑" @click="updateGoods(item.id)" class = "btn btn btn-primary" type="button"/>&nbsp;-
                                        <input value="删除" @click="deleteGoods(item.id)" class = "btn btn btn-primary" type="button"/>
                                    </td>
                                </tr>

                                <tr v-if="items.obj!=null">
                                    <td colspan="5" style="text-align: center;">
                                        <span><a href="javascript:;" @Click="pageJump('homePage')">首页</a></span>&nbsp;&nbsp;&nbsp;
                                        <span><a href="javascript:;" @Click="pageChange(items.pageNum, 'up')">上一页</a></span>&nbsp;&nbsp;&nbsp;
                                        <span>{{items.pageNum}}/{{items.totalPage}}</span>&nbsp;&nbsp;&nbsp;
                                        <span><a href="javascript:;" @Click="pageChange(items.pageNum,  'down')">下一页</a></span>&nbsp;&nbsp;&nbsp;
                                        <span><a href="javascript:;" @Click="pageJump('endPage')">末页</a></span>
                                    </td>
                                </tr>
                                <tr v-else><td colspan="5" style="text-align: center;">暂无数据</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="body-nest" id="disGoodsTab" style="display: none">
                            <table class="table-striped footable-res footable metro-blue" >
                                <thead>
                                <tr>
                                    <th>折扣标题</th>
                                    <th>关联商品名</th>
                                    <th>所属分类</th>
                                    <th>价格</th>
                                    <th>添加时间</th>
                                    <th>操作</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr v-if="items.obj!=null" v-for="(item,index) of items.obj" >
                                    <td>{{item.discountedTitle}}</td>
                                    <td>{{item.discountGoods}}</td>
                                    <td>{{item.categoryId}}</td>
                                    <td>{{item.discountedPrice}}</td>
                                    <td>{{item.ctsStr}}</td>
                                    <td>
                                        <input value="编辑" @click="updateDisGoods(item.id)" class = "btn btn btn-primary" type="button"/>&nbsp;-
                                        <input value="删除" @click="deleteDisGoods(item.id)" class = "btn btn btn-primary" type="button"/>
                                    </td>
                                </tr>

                                <tr v-if="items.obj!=null">
                                    <td colspan="6" style="text-align: center;">
                                        <span><a href="javascript:;" @Click="pageJumpDis('homePage')">首页</a></span>&nbsp;&nbsp;&nbsp;
                                        <span><a href="javascript:;" @Click="pageChangeDis(items.pageNum, 'up','')">上一页</a></span>&nbsp;&nbsp;&nbsp;
                                        <span>{{items.pageNum}}/{{items.totalPage}}</span>&nbsp;&nbsp;&nbsp;
                                        <span><a href="javascript:;" @Click="pageChangeDis(items.pageNum,'down','')">下一页</a></span>&nbsp;&nbsp;&nbsp;
                                        <span><a href="javascript:;" @Click="pageJumpDis('endPage')">末页</a></span>
                                    </td>
                                </tr>
                                <tr v-else><td colspan="6" style="text-align: center;">暂无数据</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="body-nest" id="bannerTab" style="display: none">
                            <table class="table-striped footable-res footable metro-blue" >
                                <thead>
                                <tr>
                                    <th>轮播商品名</th>
                                    <th>所属分类</th>
                                    <th>添加时间</th>
                                    <th>操作</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr v-if="items.obj!=null" v-for="(item,index) of items.obj" >
                                    <td>{{item.goodsId}}</td>
                                    <td>{{item.position}}</td>
                                    <td>{{item.ctsStr}}</td>
                                    <td>
                                        <input value="编辑" @click="updateBanner(item.id)" class = "btn btn btn-primary" type="button"/>&nbsp;-
                                        <input value="删除" @click="deleteBanner(item.id)" class = "btn btn btn-primary" type="button"/>
                                    </td>
                                </tr>

                                <tr v-if="items.obj!=null">
                                    <td colspan="4" style="text-align: center;">
                                        <span><a href="javascript:;" @Click="pageJumpBanner('homePage')">首页</a></span>&nbsp;&nbsp;&nbsp;
                                        <span><a href="javascript:;" @Click="pageChangeBanner(items.pageNum, 'up')">上一页</a></span>&nbsp;&nbsp;&nbsp;
                                        <span>{{items.pageNum}}/{{items.totalPage}}</span>&nbsp;&nbsp;&nbsp;
                                        <span><a href="javascript:;" @Click="pageChangeBanner(items.pageNum,'down')">下一页</a></span>&nbsp;&nbsp;&nbsp;
                                        <span><a href="javascript:;" @Click="pageJumpBanner('endPage')">末页</a></span>
                                    </td>
                                </tr>
                                <tr v-else><td colspan="4" style="text-align: center;">暂无数据</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /END OF CONTENT -->
    </div>
</div>
<!--  END OF PAPER WRAP -->

<!-- MAIN EFFECT -->
<script type="text/javascript" src="../../res/js/preloader.js"></script>
<script type="text/javascript" src="../../res/js/bootstrap.js"></script>
<script type="text/javascript" src="../../res/js/app.js"></script>
<script type="text/javascript" src="../../res/js/load.js"></script>
<script type="text/javascript" src="../../res/js/main.js"></script>

<!-- /MAIN EFFECT -->
<!-- GAGE -->
<script type="text/javascript" src="../../res/js/toggle_close.js"></script>

<script type="text/javascript" src="../../res/js/layer/layer.js"></script>
<script type="text/javascript" src="../../res/laydate/laydate.js"></script>
<script type="text/javascript" src="../../res/js/util.js"></script>
<script type="text/javascript" src="../../res/js/vue.js"></script>
<script type="text/javascript" src="../../res/js/admin/goodsList.js"></script>
<script type="text/javascript">
    laydate.render({
        elem: '#startTime'
    });
    laydate.render({
        elem: '#endTime'
    });
</script>
<script>
    var baseUrl = util.getServerBaseUrl();
    $.ajax({
        type:"post",
        url:baseUrl+"home/getCate",
        success:function(data){
            console.log(data);
            if(data.msg=="尚未登录"){
                window.location.href="login.html?redictUrl=goodsList.html";
            }else{
                var i=0;
                for(var key in data.data) {
                    var ii = 0;
                    i++;
                    $("#sortId").append("<option id='sort_"+i+"' >" + key +"</option>");
                    for(var val1 in data.data[key]){

                        $("#sortId").append("<option  value='"+data.data[key][val1].id+"'>" + "&nbsp;&nbsp;&nbsp;|--"+data.data[key][val1].cName +"</option>")
                        ii++;
                    }
                }
            }
        },
        error:function(e){
        }
    });
</script>

</body>
</html>
